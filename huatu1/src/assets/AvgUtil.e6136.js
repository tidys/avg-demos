const AvgUtil={unique(e){let t=e.filter(e=>0===e||e);return Array.from(new Set(t))},getElementUseRes(e){const{AvgType:t}=AvgData;let i=[],u=[],o=[],s=[],a=e.type;return a===t.ImageBg.type||a===t.ImageHead.type||a===t.ImageItem.type||a===t.ImageDraw.type||"image"===a?i.push(e.texture):a===t.PlotMenu.type?(i.push(e.textureNormal),i.push(e.texturePress),i.push(e.limit.bg),u.push(e.itemFont.family),u.push(e.limit.font.family)):a===t.Talk.type?(i.push(e.head.texture),i.push(e.roleName.bg.texture),i.push(e.talk.bg.texture),u.push(e.roleName.text.font.family),u.push(e.talk.text.font.family)):a===t.Text.type?u.push(e.textFont.family):a===t.AudioEffect.type||a===t.AudioAside.type||a===t.AudioBg.type?o.push(e.src):a===t.PasswordLock.type?(i.push(e.imageLock),i.push(e.imageOpen),u.push(e.tipsFont.family)):a===t.VideoPlot.type?s.push(e.src):a===t.QTE.type&&u.push(e.tips.font.family),u=u.filter(e=>e!==AvgData.DefaultValue.Font0),{audio:this.unique(o),video:this.unique(s),image:this.unique(i),font:this.unique(u)}},getPieceAllUseRes(e){if(void 0===AvgData)return console.error("\u672a\u52a0\u8f7dAvgData.js"),null;let t=[],i=[],u=[],o=[];for(let s=0;s<e.length;s++){let a=e[s],{audio:n,video:l,image:p,font:r}=this.getElementUseRes(a);t=t.concat(p),i=i.concat(r),u=u.concat(n),o=o.concat(l)}return{audio:this.unique(u),video:this.unique(o),image:this.unique(t),font:this.unique(i)}}};"undefined"==typeof window&&(window=global),window.AvgUtil=AvgUtil,"undefined"!=typeof module&&module&&module.exports&&(module.exports=AvgUtil);